<html>
    <head>
        <title>BuckUTT</title>

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="bower_components/material-design-lite/material.min.css">
        <link rel="stylesheet" href="bower_components/roboto-fontface/css/roboto-fontface.css">

        <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">

        <link rel="stylesheet" href="styles/main.css">
        <link rel="stylesheet" href="styles/dashboard.css">
    </head>
    <body>
        <div class="overlay"></div>
        <div class="mdl-card mdl-shadow--4dp statusModal">
            <div class="mdl-card__title">
                <h2 class="mdl-card__title-text"></h2>
            </div> 
            <div class="mdl-card__supporting-text">
                <div class="mdl-textfield mdl-js-textfield">
                    <p></p>
                </div>
            </div>
        </div>

        <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer">
            <div class="mdl-layout__drawer">
                <span class="mdl-layout-title">BuckUTT</span>
                <p>Crédit : <span id="credit"></span></p>
                <nav class="mdl-navigation">
                    <a class="mdl-navigation__link navigation-active" data-target="page-0" id="history">
                        <i class="material-icons">history</i>
                        Historique
                    </a>
                    <!--<a class="mdl-navigation__link" data-target="page-1">
                        <i class="material-icons">attach_money</i>
                        Rechargement
                    </a>-->
                    <a class="mdl-navigation__link" data-target="page-2">
                        <i class="material-icons">lock_outline</i>
                        PIN
                    </a>
                    <a class="mdl-navigation__link" data-target="page-3">
                        <i class="material-icons">swap_horiz</i>
                        Virement
                    </a>
                </nav>
            </div>
            <main class="mdl-layout__content">
                <div class="page-content page-visible" id="page-0">
                    <div class="mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">Historique</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <div class="pagination">
                                <a href="#" id="prevHistory">&lsaquo; Précédent</a>
                                <a href="#" id="nextHistory">Suivant &rsaquo;</a>
                            </div>
                            <br>
                            <table class="mdl-data-table mdl-js-data-table mdl-shadow--1dp">
                                <colgroup>
                                    <col width="14.54%">
                                    <col width="11.818%">
                                    <col width="21.818%">
                                    <col width="21.818%">
                                    <col width="21.818%">
                                    <col width="8.181%">
                                </colgroup>
                                <thead>
                                    <tr>
                                        <th class="one mdl-data-table__cell--non-numeric">Date</th>
                                        <th class="two mdl-data-table__cell--non-numeric">Type</th>
                                        <th class="three mdl-data-table__cell--non-numeric">Location</th>
                                        <th class="four mdl-data-table__cell--non-numeric">Objet</th>
                                        <th class="five mdl-data-table__cell--non-numeric">Avec</th>
                                        <th class="six">Valeur</th>
                                    </tr>
                                </thead>
                                <tbody id="historyTable">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <div class="page-content" id="page-1">
                    <div class="mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">Rechargement</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <form>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="number" pattern="[0-9]*(\.[0-9]+)?" id="reloadAmount" max="100" min="5" step="0.10">
                                    <label class="mdl-textfield__label" for="reloadAmount">Prix</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un prix correct !</span>
                                </div>
                                <p>Vous serez redirigé vers un site bancaire sécurisé.</p>
                                <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">Valider</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="page-content" id="page-2">
                    <div class="mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">Changement de PIN</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <form id="pin">
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="password" pattern="[0-9]*" id="oldPin" maxlength="4">
                                    <label class="mdl-textfield__label" for="oldPin">PIN actuel</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un PIN correct !</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="password" pattern="[0-9]*" id="newPin" maxlength="4">
                                    <label class="mdl-textfield__label" for="newPin">Nouveau PIN</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un PIN correct !</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="password" pattern="[0-9]*" id="checkPin" maxlength="4">
                                    <label class="mdl-textfield__label" for="checkPin">Nouveau PIN (confirmation)</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un PIN correct !</span>
                                </div>
                                <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">Valider</button>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="page-content" id="page-3">
                    <div class="mdl-card mdl-shadow--2dp">
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">Réaliser un virement</h2>
                        </div>
                        <div class="mdl-card__supporting-text">
                            <form id="transfer">
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="password" pattern="[0-9]*" id="transferPIN" maxlength="4">
                                    <label class="mdl-textfield__label" for="transferPIN">PIN actuel</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un PIN correct !</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="number" pattern="[0-9]*" id="transferTo">
                                    <label class="mdl-textfield__label" for="transferTo">Numéro étudiant</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un numéro étudiant correct !</span>
                                </div>
                                <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                                    <input class="mdl-textfield__input" type="number" pattern="[0-9]*(\.[0-9]+)?" id="transferAmount" max="100" min="0.10" step="0.10">
                                    <label class="mdl-textfield__label" for="transferAmount">Prix</label>
                                    <span class="mdl-textfield__error">Veuillez entrer un prix correct !</span>
                                </div>
                                <button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" id="cancelTransfer">&times;</button>
                                <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored mdl-js-ripple-effect">Suivant &rsaquo;</button>
                            </form>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <script src="bower_components/material-design-lite/material.min.js"></script>
        <script src="bower_components/reqwest/reqwest.min.js"></script>
        <script src="bower_components/mustache.js/mustache.min.js"></script>
        <script src="scripts/modal.js"></script>
        <script src="scripts/config.js"></script>
        <script src="scripts/dashboard.js"></script>

        <script id="history-template" type="text/template">
        {{#history}}
        <tr>
            <td class="mdl-data-table__cell--non-numeric">{{ formatDate }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ type }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ point }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ object }}</td>
            <td class="mdl-data-table__cell--non-numeric">{{ performer }}</td>
            <td>{{ priceEuro }}€</td>
        </tr>
        {{/history}}
        </script>
    </body>
</html>
